<html>
<head>
  <link href="https://code.jquery.com/ui/1.10.4/themes/ui-lightness/jquery-ui.css" rel="stylesheet">
        <script src="https://code.jquery.com/jquery-1.10.2.js"></script>
        <script src="https://code.jquery.com/ui/1.10.4/jquery-ui.js"></script>
    
    <script>
  $(function() {
    $( "#txtDate" ).datepicker();
  });
</script>
</head>
<body>
<div id="header">
  <h3>Welcome <%= current_user.name %></h3>
  <h8 style="text-align: right;"> <a href= "/users/<%= current_user.id %>/edit/" >Edit Profile</a> | <a href="/logout">Logout</a></h8>
</div>

<div id="main-content">
  <center><button id="reserveButton" onclick="toggleViewBookings1()">Reserve a Room</button>
    <button id="viewButton" style="background-color:transparent;color:black;" onclick="toggleViewBookings2()">My Reservations</button>
  </center>
  <br><br>

  <div id="reserve">
    <br>
    <form method='get' action = '/search'>
      <div class="row" style="background-color:transparent;">
        <div class="col-md-6 col-md-offset-3" style="margin-left:20%;margin-right:20%;float:left;width:60%;background-color:transparent;">
      <font size="3"><strong>Building Name:</strong></font><br> <select name="building" id="building">
        <option value="hunt">James B. Hunt Jr. Library</option>
        <option value="hill">D. H. Hill Library</option>
      </select>
        <br><br><br>
        <font size="3"><strong>Booking Date:</strong></font><br> <input type="date" id="txtDate" name="booking_date"/>
          <br><br><br>
        <font size="3"><strong>Size of the Room:</strong></font><br> <select name="size" id="size">
          <option value="4">4 Chairs (Small)</option>
          <option value="6">6 Chairs (Medium)</option>
          <option value="8">8 Chairs (Large)</option>
        </select><br><br>
        <br>
        <font size="3"><strong>Start Time: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;End Time:</strong></font><br>

          <input type="number" name="start" id="start" min="0" max="23" style="width:30%;">
          &nbsp;&nbsp;<h7><strong></strong> <input type="number" name="end" id="end" min="1" max="24" style="width:30%">

<br><br><br>
          <div>
            <button style="width:50%;">Search</button>
          </div>
    </form>
  </div>
  </div>
</div>

  <div id="viewbookings">
    <br>
    <center><font size="3"><strong>Current Reservations</strong></font></center>
    <div class="row" style="background-color:transparent;">
      <div class="col-md-6 col-md-offset-3" style="margin-left:5%;margin-right:5%;float:left;width:90%;text-align:center;background-color:transparent;">
        <table>
          <thead>
          <tr>
            <th>Booking date</th>
            <th>Start time</th>
            <th>End time</th>
            <th>Room</th>
            <th></th>
          </tr>
          </thead>

          <tbody>
          <% @currentReservations.each do |reservation| %>
              <tr>
                <td><%= reservation.booking_date %></td>
                <td><%= reservation.start_time %></td>
                <td><%= reservation.end_time %></td>
                <td><%= Room.find(reservation.room_id).number %></td>
                <td><%= link_to 'Release', reservation, method: :delete, data: { confirm: 'Are you sure?' } %></td>
              </tr>
          <% end %>
          </tbody>
        </table>
      </div>
    </div>
    <center><font size="3"><strong>Past Reservations</strong></font></center>
    <div class="row" style="background-color:transparent;">
      <div class="col-md-6 col-md-offset-3" style="margin-left:5%;margin-right:5%;float:left;width:90%;text-align:center;background-color:transparent;">
        <table>
          <thead>
          <tr>
            <th>Booking date</th>
            <th>Start time</th>
            <th>End time</th>
            <th>Room</th>
          </tr>
          </thead>

          <tbody>
          <% @pastReservations.each do |reservation| %>
              <tr>
                <td><%= reservation.booking_date %></td>
                <td><%= reservation.start_time %></td>
                <td><%= reservation.end_time %></td>
                <td><%= Room.find(reservation.room_id).number %></td>
              </tr>
          <% end %>
          </tbody>
        </table>
      </div>
    </div>
  </div>

</div>


</body>

</html>

<script type="text/javascript">
  function toggleViewBookings1()
  {
    document.getElementById('viewbookings').style.display = 'none';
    document.getElementById('reserve').style.display = 'block';
    document.getElementById('reserveButton').style.backgroundColor = '#CB4335';
    document.getElementById('reserveButton').style.color = 'white';
    document.getElementById('viewButton').style.backgroundColor = 'transparent';
    document.getElementById('viewButton').style.color = 'black';
  }

  function toggleViewBookings2()
  {
    document.getElementById('viewbookings').style.display = 'block';
    document.getElementById('reserve').style.display = 'none';
    document.getElementById('reserveButton').style.backgroundColor = 'transparent';
    document.getElementById('reserveButton').style.color = 'black';
    document.getElementById('viewButton').style.backgroundColor = '#CB4335';
    document.getElementById('viewButton').style.color = 'white';
  }



</script>


<style>
  #main-content{
    margin-top: 0%;
    margin-left: 25%;
    margin-right: 25%;
    width: 50%;
    float: left;
  }

  #signup-content{
    margin-top: 0%;
    margin-left: 25%;
    margin-right: 25%;
    width: 50%;
    float: left;
    display: none;
  }

  body{
    background-image: url('http://www.engr.ncsu.edu/engrhome/images/engr-freebies/wallpapers/1280x800/desktop_004.jpg');
    background-repeat: no-repeat;
    background-attachment: fixed;
  }
  h3{
    font-family: 'Open Sans Light',Helvetica,Arial,sans-serif;
    font-weight: 200;
    letter-spacing: -1px;
    font-size: 1.7rem;
    font-weight: bold;
    margin-bottom: 0px;
    line-height: 2rem;
    color: #CB4335;
    margin-bottom: 20px;
  }

  h7{
    font-size: 13px;
  }

  input[type="text"] {
    width: 100%;
    display: inline-block;
    border: 1px solid maroon;
    border-radius: 5px;
    font-family: Courier;
    font-size: 1rem;
    padding: 5px;
    height: 15px;
    padding-left: 10px; }


  input[type="date"] {
    width: 40%;
    display: inline-block;
    border: 1px solid maroon;
    border-radius: 5px;
    font-family: Courier;
    font-size: 1rem;
    padding: 5px;
    height: 15px;
    padding-left: 10px; }

  input[type="number"] {
    width: 50%;
    display: inline-block;
    border: 1px solid maroon;
    border-radius: 5px;
    font-family: Courier;
    font-size: 1rem;
    padding: 5px;
    height: 15px;
    padding-left: 10px; }

  input[type="email"] {
    width: 100%;
    display: inline-block;
    border: 1px solid maroon;
    border-radius: 5px;
    font-family: Courier;
    font-size: 1rem;
    padding: 5px;
    height: 15px;
    padding-left: 10px; }

  input[type="password"] {
    width: 100%;
    display: inline-block;
    border: 1px solid maroon;
    border-radius: 5px;
    font-family: Courier;
    font-size: 1rem;
    padding: 5px;
    height: 15px;
    padding-left: 10px; }

  button{
    width: 30%;
    background-color: #CB4335;
    color: white;
    font-size: 1.2rem;
    padding: 2px 2px 2px 2px;
    border: 1px solid black;
  }

  h8{
    text-align: right;
    font-size: 1.2rem;
  }

  #header, #footer {
    position: fixed;
    width: 100%;
    z-index: 20;
  }

  #header {
    top: 0;
    height: 5em;
    margin-left: 10%;
  }

  #footer {
    bottom: 0;
    height: 3em;
  }

  select{
    border: 1px solid maroon;
    border-radius: 2px;
    font-family: 'Courier';
    font-size: 1rem;
  }

  #reserve{
    display: block;
  }

  #viewbookings{
    display: none;
  }

  hr {
    display: block;
    margin-top: 0.7em;
    margin-bottom: 0.5em;
    margin-left: auto;
    margin-right: auto;
    border-style: inset;
    border-width: 1px;
    border-color: #CB4335;
  }


  select {
    border: 2px solid maroon;
    border-radius: 5px;
    font-family: Courier;
    font-size: 1rem;
    padding: 5px;
    height: 35px;
    padding-left: 10px; }

</style>

