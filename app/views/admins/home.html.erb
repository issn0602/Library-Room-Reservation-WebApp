<script
src="https://code.jquery.com/jquery-3.1.1.js"
integrity="sha256-16cdPddA6VdVInumRGo6IbivbERE8p7CQR3HzTBuELA="
crossorigin="anonymous"></script>
<br>
<div id="header">
  <h3>Welcome <%= current_user.name %></h3>
</div>

<%= nav_bar fixed: :top, brand: 'NCSU Libraries', responsive: true do %>
    <%= menu_group do %>
        <%= menu_item "Home", '/admin/home' %>
        <%= menu_item "Manage Users/Admins" , "/users/" %>
        <%= menu_item "Manage Rooms", "/rooms/" %>
        <%= menu_item "Search Rooms" %>
        <%= menu_item "My Bookings" %>
    <% end %>

    <%= menu_group pull: :right do %>
        <%= menu_item "Edit Profile", "/profile/"+ current_user.id.to_s %>
        <%= menu_item "Log Out", "/logout" %>
    <% end %>

<% end %>

<div class="row" style="background-color:transparent;">

  <div class="col-md-6 col-md-offset-3" style="margin-top: 20px; margin-left:10%;margin-right:10%;float:left;width:80%;text-align:center;background-color:transparent;">
    <h1>Reservations for <%=Date.today()%></h1>
        <table class="table table-bordered table-striped" id="table">
          <thead>
          <tr>
            <th>Building</th>
            <th>Room No</th>
            <th>00-01</th>
            <th>01-02</th>
            <th>02-03</th>
            <th>03-04</th>
            <th>04-05</th>
            <th>05-06</th>
            <th>06-07</th>
            <th>07-08</th>
            <th>08-09</th>
            <th>09-10</th>
            <th>10-11</th>
            <th>11-12</th>
            <th>12-13</th>
            <th>13-14</th>
            <th>14-15</th>
            <th>15-16</th>
            <th>15-16</th>
            <th>15-16</th>
            <th>15-16</th>
            <th>16-17</th>
            <th>17-18</th>
            <th>18-19</th>
            <th>19-20</th>
            <th>20-21</th>
            <th>21-22</th>
            <th>22-23</th>
            <th>23-24</th>
          </tr>
          </thead>

          <tbody>
            <%= @reservation.each do |res| %>
            <tr>
              <td><%= Room.find(res.room_id).building %></td>
              <td><%= Room.find(res.room_id).number %></td>
              <td><%=if(res.start_time.to_i >= 0 and res.end_time.to_i <= 2) then User.find(res.user_id).name end%></td>
                    <td><%=if(res.start_time.to_i >= 0 and res.end_time.to_i <= 3) then  User.find(res.user_id).name end%></td>
                <td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td>
                          <td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td>
            </tr>
  <% end %>

          </tbody>

        </table>
      </div>
    </div>
  </div>
</div>



<style>
  html {
    font-family: verdana;
    font-size: 10pt;
    line-height: 25px;
  }
  table {
    border-collapse: collapse;
    width: 300px;
    overflow-x: scroll;
    display: block;
  }
  thead {
    background-color: #EFEFEF;
  }
  thead, tbody {
    display: block;
  }
  tbody {
    overflow-y: scroll;
    overflow-x: hidden;
    height: 500px;
  }
  td, th {
    min-width: 100px;
    height: 25px;
    border: dashed 1px lightblue;
  }
</style>

<script>

  $('table').on('scroll', function () {
    $("table > *").width($("table").width() + $("table").scrollLeft());
  });
 </script>